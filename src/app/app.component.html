
<nav class="navbar navbar-expand-lg navbar-light bg-light " style="background-color: rgb(171 177 183) !important;">
  <div class="container">
      <a class="navbar-brand" [routerLink]="['/search']">
          <img src="https://s3.rdbuz.com/Images/rdc/rdc-redbus-logo.webp" style="    width: 5rem;" alt="abhibus">
      </a>
      <div class="d-flex flex-column justify-content-center">
          <span>Trusted by</span>
          <span class="font-weight-bold">5 Crore+ Travellers</span>
      </div>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse  text-right" id="navbarNav" >
          <ul class="navbar-nav ms-auto ">
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/search']" routerLinkActive="router-link-active" ><i class="icon bi bi-bus"></i>Buses</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/search']"><i class="icon bi bi-train"></i>Trains</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/search']"><i class="icon bi bi-airplane"></i>Flights</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/search']"><i class="icon bi bi-building"></i>Hotels</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/search']"><i class="icon bi bi-gift"></i>Offers</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/search']"><i class="icon bi bi-ticket-perforated"></i>Track Ticket</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" [routerLink]="['/search']"><i class="icon bi bi-headset"></i>Need Help?</a>
              </li>

                  <li class="nav-item">
                      <a class="nav-link text-success" ><i class="icon bi bi-person"></i></a>
                  </li>
                  @if(dataUser){
                    <li class="nav-item">
                      <a class="nav-link text-success"  ><i class="icon bi bi-person"></i>{{dataUser.userName}}</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link text-danger" (click)="loggOff()" ><i class="icon bi bi-person"></i>LogOff</a>
                  </li>

                  }@else {
                    <li class="nav-item">
                      <a class="nav-link text-success" (click)="openModel()"><i class="icon bi bi-person" ></i>Login/SignUp</a>
                  </li>
                

                  }





          </ul>
      </div>
  </div>
</nav>
<router-outlet />

<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Modal Heading</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">

              @if(login){
                <form  [formGroup]="loginForm" >
                  <!-- Email input -->
                  <div data-mdb-input-init class="form-outline mb-4">
                    <label class="form-label" for="form2Example1">Email address</label>
                    <input type="email" id="form2Example1" name ="emailId" formControlName="emailId"  class="form-control" />

                  </div>

                  <!-- Password input -->
                  <div data-mdb-input-init class="form-outline mb-4">
                    <label class="form-label" for="form2Example2" >Password</label>
                    <input type="password" id="form2Example2" name="password" formControlName="password" class="form-control" />

                  </div>

                  <!-- 2 column grid layout for inline styling -->
                  <div class="row mb-4">
                    <div class="col d-flex justify-content-center">
                      <!-- Checkbox -->
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="form2Example31" checked />
                        <label class="form-check-label" for="form2Example31"> Remember me </label>
                      </div>
                    </div>
                  </div>

                  <!-- Submit button -->
                  <button  type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-block mb-4" [disabled]="loginForm.invalid" (click)="signIn()" >Sign in</button>

                  <!-- Register buttons -->
                  <div class="text-center">
                    <p>Not a member? <a  (click)="login=false">Register</a></p>


                  </div>
              </form>

              }@else {
                <form  [formGroup]="regesterForm" >
                  <!-- Email input -->
                  <label class="form-label" for="form2Example1">Email address</label>
                  <div data-mdb-input-init class="form-outline mb-4">
                  <input type="email" id="form2Example1"  formControlName="emailId"  required class="form-control" />
                  <div class="text-danger">
                    @if(regesterForm.controls['emailId'].touched &&regesterForm.controls['emailId'].errors?.['required']){
                      <small>Email is required</small>
                    }
                    @else if (regesterForm.controls['emailId'].errors?.['email']) {
                      <small>Email is invalid</small>
                    }

                  </div>


                  </div>
                  <div data-mdb-input-init class="form-outline mb-4">
                    <label class="form-label" for="form2Example1">User Name </label>
                      <input type="email" name ="uder" formControlName="userName" class="form-control" />
                      <div class="text-danger">
                        @if(regesterForm.controls['userName'].touched &&regesterForm.controls['userName'].errors?.['required']){
                          <small>User Name is required</small>
                        }
                      </div>

                    </div>
                    <div data-mdb-input-init class="form-outline mb-4">
                      <label class="form-label" for="form2Example1">Full  Name </label>
                      <input type="email" name="fullName" formControlName="fullName"  class="form-control" />
                      <div class="text-danger">
                        @if(regesterForm.controls['fullName'].errors?.['pattern']){
                          <small>fullName must be 6 letters at least </small>
                        }
                        @else if (regesterForm.controls['fullName'].touched &&regesterForm.controls['fullName'].errors?.['required']) {
                          <small>fullNameis required</small>
                        }



                      </div>

                    </div>
                  <!-- Password input -->
                  <div data-mdb-input-init class="form-outline mb-4">
                    <label class="form-label" for="form2Example2">Password</label>
                    <input type="password" name="password" formControlName="password"   class="form-control" />
                    <div class="text-danger">
                      @if(regesterForm.controls['password'].touched &&regesterForm.controls['password'].errors?.['required']){
                        <small>Password is required</small>
                      }
                    </div>

                  </div>

                  <!-- Submit button -->
                  <button  type="button"  data-mdb-ripple-init class="btn btn-primary btn-block mb-4"  [disabled]="regesterForm.invalid" (click)=" register()" >Register</button>

                  <!-- Register buttons -->
                  <div class="text-center">
                    <p>Alreday a member? <a (click)="login=true">Login</a></p>
                  </div>
              </form>

              }




      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger"  (click)="closeModel()">Close</button>
      </div>
    </div>
  </div>
</div>
